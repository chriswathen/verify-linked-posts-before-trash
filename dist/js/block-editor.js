!function(t){const{useEffect:o}=t.element,{registerPlugin:e}=t.plugins;e("trash-interceptor",{render:()=>(o((()=>{console.log("TrashInterceptor useEffect");const o=new MutationObserver((e=>{e.forEach((e=>{const n=document.querySelector(".editor-post-trash.components-button");if(n){console.log("Trash button found");const e=n.onclick;n.onclick=function(o){console.log("Trash button clicked"),o.preventDefault(),o.stopPropagation();const n=t.data.select("core/editor").getCurrentPostId();console.log("Checking post links for Post ID:",n),function(t,o){jQuery.ajax({type:"POST",url:vlpbt_data.ajax_url,data:{action:"vlpbt_check_linked_posts",post_id:t},success(t){const e=JSON.parse(t);if(e.length>0){let t="<p>There are posts that link to this post:</p><ul>";e.forEach((function(o){t+=`<li><a href="${vlpbt_data.ajax_url.replace("admin-ajax.php","post.php")}?post=${o.ID}&action=edit" target="_blank">${o.title} (ID: ${o.ID}, Post Type: ${o.post_type})</a></li>`})),t+="</ul><p>Do you want to continue with the trash action?</p>",Swal.fire({title:"Warning",html:t,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, trash it!",cancelButtonText:"No, cancel",customClass:{container:"wp-swal-container",title:"wp-swal-title",content:"wp-swal-content",actions:"wp-swal-actions",confirmButton:"wp-swal-confirm-button",cancelButton:"wp-swal-cancel-button"}}).then((t=>{t.isConfirmed&&o()}))}else o()},error(t,o,e){console.log("AJAX error:",o,e)}})}(n,e)},o.disconnect()}}))}));o.observe(document,{childList:!0,subtree:!0})}),[]),null)})}(window.wp);